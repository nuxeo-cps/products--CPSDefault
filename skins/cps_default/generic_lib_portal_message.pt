<!-- a generic_lib macro -->
<!-- $Id$ -->

<metal:block define-macro="portal_message">
<div class="message"
     tal:define="portal_status_message portal_status_message |
                                       request/portal_status_message |
                                       nothing;
     portal_status_message_mappings python:request.get('portal_status_message_mappings',
                                                       {});
     cpsmcat nocall:here/translation_service;
     translated python:cpsmcat(portal_status_message, portal_status_message_mappings);
     "
     tal:condition="portal_status_message"
     tal:content="python:translated or portal_status_message"
     >
  Translated status message.
</div>
</metal:block>
