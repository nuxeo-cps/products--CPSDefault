===================
Catalog navigation
===================

:Author: Marc-Aurèle DARCHE
:Revision: $Id$


Introduction
============

By default CPS uses a classical folder introspection to provide navigation among
folders. This is fine most of the time. But when a portal has folders heavily
populated and/or populated with very large objects (> 10Mb) the time for
returning the folder contents increases.

CPS can be configured by the option in the Properties tab
`Use catalog for folder navigation` to use its catalog navigation or not.


Advantages and disadvantages
============================

Advantages
----------

- Catalog navigation returns a folder contents in less time than a folder
  introspection does when the folder is heavily populated and/or populated with
  very large objects. This is because with catalog queries the objects don't
  have to be retrieved, the navigation only retrieves and works on catalog
  brains.

Disadvantages
-------------

- Catalog navigation takes a minimal time to perform a catalog query and thus
  catalog navigation will never return a folder contents before around 1 second.
  When the catalog used is CPSLuceneCatalog, the minimal time might raise to
  something around 2 seconds. So this is overkill for little populated folders.

- Catalog navigation is costly when, in a directory, one puts, for example, the
  last document at the top of the others.
  This reindex (but which attribute?) all the documents at the top of the one
  that is being moved.
  And when the catalog used is CPSLuceneCatalog, the reindexing is always done
  on all the attributes of the concerned documents because
  CPSLuceneCatalog/NXLucene doesn't know how to reindex only the impacted
  attribute in this case/the current state of the code.

- Catalog navigation doesn't work with multilingual sites

  Ticket #866: CatalogNavigation does not work with i18n
  http://svn.nuxeo.org/trac/pub/ticket/866





.. Local Variables:
.. mode: rst
.. End:
.. vim: set filetype=rst:
