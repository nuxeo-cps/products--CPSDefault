<html metal:use-macro="here/content_lib_master/macros/master">
  <body>

    <div tal:condition="python: not(checkPerm('Access contents information', here))">
      <span tal:define="dummy here/unauthRedirect"></span>
    </div>

    <h1 metal:fill-slot="header" i18n:translate="heading_folder_factories">
      Add Content
    </h1>

    <form action="content_create" method="post" class="group"
          metal:fill-slot="main"
          tal:define="creatableItems here/getSortedContentTypes"
          tal:attributes="action string:${here_url}/content_create">

      <dl tal:condition="creatableItems">
        <tal:block repeat="item creatableItems">
          <tal:block define="choice_id string:choice_${repeat/item/number}">
            <dt>
              <input type="radio" name="type_name" value="" id=""
                class="noborder"
                tal:attributes="value item/getId;
                checked repeat/item/start;
                id string:choice_${repeat/item/number}" />
              <label for=""
                tal:attributes="for string:choice_${repeat/item/number}">
                <img tal:replace="structure python:here.getImgTag(item.getIcon(),
                  base_url=base_url)" />
              </label>
              <label for="" tal:attributes="for choice_id"
                tal:content="item/Title"
                i18n:translate="">
                Portal type's title
              </label>
            </dt>
            <dd>
              <label for="" tal:content="item/Description" i18n:translate=""
                tal:attributes="for choice_id">
                Portal type's description
              </label>
            </dd>
          </tal:block>
        </tal:block>
      </dl>

      <p tal:condition="creatableItems">
        <label for="objectTitle">
          <strong i18n:translate="label_title">Title:</strong>
        </label>
        <input id="objectTitle" type="text" name="title" size="40" />
        <input type="submit" class="standalone searchButton"
               value="button_add" i18n:attributes="value" />
      </p>
      <p tal:condition="not:creatableItems">
        <span i18n:translate="help_no_content_type_can_be_created">
          No content type can be created.
        </span>
      </p>

    </form>

  </body>
</html>
