<!-- macro library for all general use -->
<!-- $Id$ -->

<!-- ============================================================ -->
<metal:block define-macro="header">
  
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">

  <title tal:content="here/expanded_title">
    Nuxeo | Collaborative Portal Server
  </title>

  <metal:block define-slot="base">
    <!-- Additional meta elements go here -->
  </metal:block>

  <!-- Basic crude style for Netscape4.x - This can be removed if you don't
want the special NS4 look - it will still work, just be plain text instead. -->
  <link rel="Stylesheet" type="text/css" href=""
        tal:attributes="href string:${base_url}ploneNS4.css">

  <!-- Main style sheets for CSS2 capable browsers -->
  <style type="text/css" media="all"
         tal:content="string:@import url(${base_url}plone.css);">
  </style>

  <!-- Custom style sheet if available -->
  <style type="text/css" media="all"
         tal:condition="exists: here/ploneCustom.css"
         tal:content="string:@import url(${base_url}ploneCustom.css);">
  </style>

  <!-- Style sheet used for printing -->
  <link rel="stylesheet" type="text/css" media="print" href=""
        tal:attributes="href string:${base_url}plonePrint.css">

  <!-- not supported by IE -->
  <link rel="icon" href="" type="image/png" tal:attributes="href
        string:${base_url}favicon.png">

  <!-- Disable IE6 image toolbar -->
  <meta http-equiv="imagetoolbar" content="no">
  
  <metal:block define-slot="head_slot">
    <!-- Additional http headers go here -->
  </metal:block>

  <metal:block define-slot="css_slot">
    <!-- additional styles go here -->
  </metal:block>

  <metal:block define-slot="javascript_head_slot">
    <!-- additional scripts go here -->
  </metal:block>

</metal:block>


<!-- ============================================================ -->
<metal:block define-macro="logo">
  <a href="http://www.nuxeo.com/"
     tal:attributes="href string:${base_url}">
    <img height="43" width="173" border="0" src="logo_nuxeo.gif" class="logo"
         alt="Nuxeo Logo" title="Nuxeo Web Site"
         tal:attributes="src string:${base_url}logo_nuxeo.gif" />
  </a>
</metal:block>


<!-- ============================================================ -->
<metal:block define-macro="searchbox">
  <div class="searchBox">
    <form method="get" action="search"
        tal:attributes="action string:${base_url}search_form">
      <a href="search_form"
         tal:attributes="href string:${base_url}advanced_search_form"
         i18n:translate="advanced_search">
        Advanced search</a>
      <br>
      <input id="searchGadget" type="text" name="SearchableText" size="20"
             value="" tal:attributes="value request/SearchableText|nothing">
      <input class="context searchButton" type="submit" value="OK"
             i18n:attributes="value">
    </form>
  </div>
</metal:block>


<!-- ============================================================ -->
<metal:block define-macro="sections">
  <div class="tabs"
       tal:define="sections sections|ttool/sections;
                   workspaces workspaces|ttool/workspaces;
                   stree python:sections.getList(start_depth=0, stop_depth=1);
                   wtree python:workspaces.getList(start_depth=0, stop_depth=0)">

    <a href="" class="plain"
       tal:repeat="item wtree"
       tal:attributes="href string:${base_url}${item/rpath}/;
                       class python:context_url.endswith(item['rpath']) and 'selected' or default;
                       title item/title"
       tal:content="structure item/short_title">
       section title
    </a>

    <a href="" class="plain"
       tal:repeat="item stree"
       tal:attributes="href string:${base_url}${item/rpath}/;
                       class python:context_url.endswith(item['rpath']) and 'selected' or default;
                       title item/title"
       tal:content="structure item/short_title">
       section title
    </a>
  </div>
</metal:block>


<!-- ============================================================ -->
<metal:block define-macro="breadcrumbs">
  <div class="pathBar">
    <span i18n:translate="you_are_here">You are here:&nbsp;</span>
    <span tal:repeat="bc python:here.getBreadCrumbs(url=context_url, breadcrumb_set=getattr(request, 'breadcrumb_set', None))">
      <a href="/cps/id"
         tal:omit-tag="not:bc/url"
         tal:attributes="href bc/url;
                         title bc/longtitle"
         tal:content="bc/title">
         Title
      </a>
      <strong tal:condition="not:repeat/bc/end"
              i18n:translate="breadcrumbs_separator">&nbsp;&gt;&nbsp;</strong>
    </span>
  </div>
</metal:block>


<!-- ============================================================ -->
<metal:block define-macro="box">
  <div class="box">
    <div class="title">
      <div metal:define-slot="box_title">Box Title</div>
    </div>
    <div class="body">
      <div metal:define-slot="box_body">Box Body</div>
    </div>
  </div>
</metal:block>


<!-- ============================================================ -->
<metal:block define-macro="portal_message">
  <div class="message"
       tal:define="portal_message request/portal_status_message|nothing"
       tal:condition="portal_message">
    <strong tal:content="portal_message" i18n:translate="">
      <!-- TODO think about a fine icon meaning "your attention please" -->
      Translated status message.
    </strong>
  </div>
</metal:block>

<!-- ============================================================ -->
<metal:block define-macro="footer">
  <div class="footer">
    Nuxeo - 14, rue du Soleillet, 75020 Paris France
    <br/>
    Email : <a href="mailto:contact@nuxeo.com"> contact@nuxeo.com</a>
    - Tél: +33 (0)1 40 33 79 87 - Fax: +33 (0)1 43 58 14 15
  </div>
</metal:block>


<!-- ============================================================ -->
<metal:block define-macro="actionbox">
  <metal:block use-macro="here/generic_lib/macros/box">
    <metal:block fill-slot="box_title" tal:content="blocktitle">
      action box title
    </metal:block>
    <metal:block fill-slot="box_body">
      <div class="content"
           tal:define="blockclass blockclass|string:"
           tal:attributes="class python:'content '+blockclass">
        <ul>
          <li tal:repeat="action actionblock">
            <a tal:attributes="href action/url"
               tal:content="action/name"
               i18n:translate="">
               Translated action
             </a>
          </li>
        </ul>
      </div>
    </metal:block>
  </metal:block>
</metal:block>


<!-- ============================================================ -->
<metal:block define-macro="folder_list">
</metal:block>

	
<!-- ============================================================ -->
<metal:block define-macro="title_content">
  <h2>
    <metal:block define-slot="title">Title</metal:block>
  </h2>
  <metal:block define-slot="content">Content</metal:block>
</metal:block>

	
<!-- ============================================================ -->
<metal:block define-macro="form">
  <table width="100%" cellpadding="4" cellspacing="4" border="0">
    <metal:block define-slot="content">
    </metal:block>
  </table>
</metal:block>


<!-- ============================================================ -->
<metal:block define-macro="form_property">
  <tal:block define="form_pos form_pos|nothing">
    <tr>
      <td valign="top" width="100" class="formMeta">
        <metal:block define-slot="title">Field name</metal:block>
      </td>
      <td valign="middle">
        <metal:block define-slot="content">Field content</metal:block>
      </td>
    </tr>
  </tal:block>
</metal:block>
