<html metal:use-macro="here/main_template/macros/master">
<div metal:fill-slot="main">
  <tal:block define="SearchableText python:request.get('SearchableText','');
                     sort_by python:request.get('sort_by', '');
                     direction python:request.get('direction', '');
                     folder_prefix python:request.get('folder_prefix', '');
                     items python:here.search(query=request.form,
                                              sort_by=sort_by,
                                              direction=direction,
                                              folder_prefix=folder_prefix);
                     nav_action string:search_form;
                     no_form python:1;
                     site_wide python:1;
                     items_length python:len(items);
                     format string:detail;
                     filter python:0;
                    ">
    <h1 i18n:translate="heading_search_results">Search Results</h1>

    <p>
      <span i18n:translate="">
        Your query '<span class="emphasis"
                          tal:content="SearchableText"
                          i18n:name="query">Query</span>'
      </span>
      <tal:block condition="python:items_length == 0">
        <span i18n:translate="legend_no_search_result">
          gave no result.</span>
      </tal:block>
      <tal:block condition="python:items_length == 1">
        <span i18n:translate="legend_one_search_result">
          gave 1 result</span>
      </tal:block>
      <tal:block condition="python:items_length > 1">
        <span i18n:translate="">
          gave <span class="emphasis"
                     tal:content="items_length"
                     i18n:name="nb_results">n results.</span>
        </span>
      </tal:block>
    </p>
    <metal:block use-macro="here/content_lib/macros/display_contents" />
    <div style="text-align:right;" class="group">
      <form method="get" action="./search_form">
        <a href="./advanced_search_form">
           <span i18n:translate="link_advanced_search">
             Advanced search
           </span>
        </a><br>
        <div class="label" i18n:translate="label_search_full_text">search</div>
        <input type="text" name="SearchableText" value=""
               size="40" tal:attributes="value SearchableText">
        <input class="standalone searchButton" type="submit" value="button_ok"
               i18n:attributes="value">
        <br>
        <metal:block use-macro="here/generic_lib/macros/search_folder_prefix_option" />
       </form>
    </div>
  </tal:block>
</div>
</html>
