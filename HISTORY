*******************************************
** CPSDefault V3.33.2 [R1 build 2005/04/13-17:50 by fguillaume]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- #579: 'Manage languages' form could corrupt Localizer's language list.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.33.1 [R1 build 2005/04/13-15:37 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- Updated i18n with new version of update_pos.
- Updated i18n for the session portlet.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.33.0 [R1 build 2005/04/13-08:36 by ben]

Requires:
~~~~~~~~~
- CPSCore > 3.21.2
- CPSCompat >= 0.1.0
- CPSBoxes >= 0.0.1
- CPSSchemas > 0.40.0
- CPSDocument > 0.33.0
- to use the new filter set default_languages requires to remove an index:
  zmi: portal_catalog/indexes/ select cps_filter_sets ->Remove index
  then launch the cpsupdate external method
New features:
~~~~~~~~~~~~~
- Supports Boxes *or* Portlets /CPSSkins installation at installation time
- Made the portal_message macro accept mappings for its translations.
- #535: Redesign the advanced search form
- Made the MembershipTool be able to reset password by a user providing a
  username or an email address. A password reset on many accounts sharing the
  same email address at the same time is also possible.
- added a session information portlet to tell which user has a session open.
Bug fixes:
~~~~~~~~~~
- fix: the BMP bug (#305) in getImgTag.py
- fix: creating a document with a title that contains a meaningless word 
  raise an IndexError
- Modified the code of the JavaScript method from functions.js, showElement, to
  be more generic (this fixes problems notably in CPSSchemas).
- Added the script isInWorkspacesTree and use it in the main_template so that
  it returns a positive when an object is in a container that is not a Workspace
  itself but which is located below the root of the workspaces. This is for
  example useful for the case of CPSWiki where the isInWorkspace script was
  returning False.
- fix: setup portlets only on installation not on updates
- verifyPortlets() now uses a tuples of dictionaries for 'portlets'.
- Made the resetPassword functionality not send the password through email
  anymore but rather display it on the login_form web page (that should be
  protected through HTTPS). This is more secure since the password does not
  transmit over SMTP and this is more straightforward for the user who does not
  have to wait for yet another email message.
- Fix error message display when page not found (#513).
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- Reverted DocRenderBox.getContent() naming to DocRenderBox.getContents() to
  be consistent with other boxes and not be confused with proxy.getContent().
- manageCPSLanguage method is now in CPSDefault.utils
- Factorized code from CPSDefault/skins/cps_default/computeId to the method
  CPSUtil.id.generateId.
- Boxes related are moved to CPSBoxes
- new index fieldIndex Language, so you can query:
    query['Language'] = ['fr', 'it']
- new filter set: default_languages that matches all proxies in their default 
  languages:
    query['cps_filter_sets'] = {'query': ('searchable', 'default_languages'),
                                'operator': 'and'}
  or using skin/cps_default/search.py:
    brains = portal.search(query={'path': '/cps/workspaces/folder1'},
                           default_languages=1)
- Made portal creation form more robust.
- Added the "Contributor" and "Reader" local roles. Those are currently used by
  CPSWiki. Those roles are not specific to workspaces or sections and they
  basically are what WorkspaceMember, WorkspaceReader, SectionReader should have
  been in the first place.
- Default Tree cache configuration takes care of BTree proxies as well
- Moved some code from CPSMembershipTool to CPSDefault.MembershipTool. This code
  was too high-level for CPSCore.
- Removed the site icon HTML statement in CPSDefault, since now this is CPSSkins
  which takes care about everything related to layout and presentation in
  general.

*******************************************
** CPSDefault V3.32.1 [R1 build 2005/03/19-17:16 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- Added in cpsinstall.py a call to the CPSWiki installer.
Bug fixes:
~~~~~~~~~~
- Removed warnings: replaces CMFCore.CMFCorePermissions by CMFCore.permissions.
- Made sure that the ModuleSecurityInfo info statements of the "utils" module is
  taken into account.
- Fixed XHTML warning on logged_in.pt. Closes #461
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- Made the product rely on CPSUtil factorized methods.

*******************************************
** CPSDefault V3.32.0 [R1 build 2005/03/07-16:04 by madarche]

Requires:
~~~~~~~~~
- WARNING: Some properties have been added to stylesheet_properties.props.
  If you overload stylesheet_properties.props you need to add the following
  properties:
  buttonBackground
  buttonBackgroundHover
  buttonBorder
  contextButtonBackgroundHover
  standaloneButtonBackgroundHover
  destructiveButtonBackgroundHover
  destructiveButtonBorderHover
  cf CPSDefault/skins/cps_styles/nuxeo/stylesheet_properties.props
- Now using CPSUtil.integration.isProductPresent method.
New features:
~~~~~~~~~~~~~
- Added support for user password resetting.
- Added an interface to manage languages in a portal
- DocRenderBox can now render objects with give id (code need to be cleaned up,
  but the current implementation is currently not good enough anyway)
- Added user feedback hints on buttons which now change colors when they are
  hovered. This provides a more usable and accessible user interface.
- Added a form to manage portal languages
- Changed number of objects shown in folder_contents from 10 to 30
Bug fixes:
~~~~~~~~~~
- Added in cpsinstall a migration routine for badly stored portal properties
  such as "enable_portal_joining".
- Moved some pictures which were in the "cps_default" skin into the
  "cps_images" skin where they should be.
- Fixed object id change in folder, some skins were missing with CMF 1.5.0.
- Usability improvement: made the "content_translate" action automatically
  redirect the user to the Edit page of the newly translated document.
- For all locales translated the "label_language_pt_BR" msgid into the shorter
  translated accordingly "Brazilian" word. The previous longer names were
  making the locale selector box way to large.
- Fix : workflow_foldersish_wf didn't allow the versionning of sub-objects
- Don't show non-CMF objects in folder_contents
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- sinisterly better check of elementtree optional import
- Changed method name: getContents() -> getContent()

*******************************************
** CPSDefault V3.31.5 [R1 build 2005/02/01-11:38 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- Modified the JavaScript controlling that was badly checking the required
  "Comments" field is not empty.
- An empty li tag appeared in the manage permissions template when a role was
  acquired and acquisition was blocked.
- Small XHTML validation fixes.
- Hardened the directives in doc/howto-virtual_hosts.txt 
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.31.4 [R1 build 2005/01/31-13:55 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- Added a nice doc on howto use Apache httpd virtualhosts with CPS + renamed
  all the doc files in the same manner.
Bug fixes:
~~~~~~~~~~
- Default french translations for root folders (workspaces, sections, member
  areas)
- Not installing CPSOOo by default because it was preventing some CPS servers to
  start when elementtree was not installed.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.31.3 [R1 build 2005/01/28-17:44 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- Fixed the content_publish_form.pt and content_unpublish_form.pt forms which
  were lacking the now needed "workflow_action_script" variable.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.31.2 [R1 build 2005/01/28-14:53 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- Updated i18n for the "no_recurse" option of ContentBox.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.31.1 [R1 build 2005/01/28-14:19 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- Renamed the default portal box titles to make them more meaningful.
- Removed child selectors in the CSS because MSIE doesn't understand them.
- Disabled only the MSIE PNG behavior, but added back the MSIE conditional
  comment.
- #477 : CPS root folder shouldn't be an ordered folder
- Fixed the layout that was presenting all the roles glued together in
  skins/cps_default/folder_localrole_form.pt
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- Renamed the "comment" input in transition forms into "comments", so that
  it is more consistent with the user interface.
- Made small fixes so that CPS HTML gets closer to XHTML Strict, that is
  only semantic and as less presentation information as possible, the CSS
  taking care of the layout.
- Using CMFCore.permissions instead of CMFCore.CMFCorePermissions
- another attribute for ContentBox: no_recurse. This atribute is used for 
  the values of a checkbox; if the checkbox is checked (no_recurse=1) in the 
  box will be displayed only the documents from curent folder; if the 
  checkbox is unchecked(no_recurse=0) in the box will be displayed the documents 
  from curent folder and its subfolder.

*******************************************
** CPSDefault V3.31.0 [R1 build 2005/01/20-11:12 by ben]

Requires:
~~~~~~~~~
- WARNING: all ZPT macro lib are now splitted in one macro by file
  this means that if you have overload a macro_lib (like content_lib,
  header_lib ...) or if you use cps macro lib in your products
  you have to update your sources to be compatible with this package
  this can by launching:
  python Products/CPSDefault/Extension/split_macro_lib.py on the root of your 
  zope
- WARNING: Many properties have been added to stylesheet_properties.props.
  If you overload stylesheet_properties.props you need to add the following
  properties:
  listingHeaderBackground
  listingHeaderColor
  listingCellBackground
  listingCellColor
  listingCellOddBackground
  listingCellOddColor
  listingCellEvenBackground
  listingCellEvenColor
  rssBorder
  rssBackground
  rssColor
  rssFont
  atomBorder
  atomBackground
  atomColor
  atomFont
  cf CPSDefault/skins/cps_styles/nuxeo/stylesheet_properties.props

- CPSWorkflow
New features:
~~~~~~~~~~~~~
- Made comments on transition forms be mandatory through JavaScript checking.
- Added ATOM export for content boxes.
Bug fixes:
~~~~~~~~~~
- fix #453: it was a CSS bug and needed a little fix in JavaScript lib
- Fixed computeId that did not have exactly the expected behavior and modified
  the unit tests accordingly.
- fix #457: menu box strange behavior
- Modified the RSS link for content box to not be an image but rather a text 
  + CSS as it was at the beginning, but better looking. It's now located at the
  top right corner of the box.
- Removed the "list-style-type" CSS property in nuxeo_css2.css since it was too
  restrictive and prevented user agents to use the default nice adopted behavior
  (at least for Mozilla and MSIE) to have an alternation of "disc", "circle" and
  "square".
- Fixed the spaces around li elements: added more focus to the CSS selector and
  put space only after the li elements (but spaces around li element should
  disappear eventually).
- Made the tab style menu have more focus (for better integration with tools
  like CPSSkins).
- Cleaned HTML some more.
- Made joining of the portal de-activated by default, as this is not the way
  clients wants it to be by default.
- Use <dtml-comment> to comment things in .css.dtml
- fix #458: Firefox cannot syndicate RSS exports from CPS
- Reduced the size of the h1, h2 and h3 headers.
- Disabled the MSIE PNG behavior, but keeping it in the comments, since it
  doesn't work on some MSIE 5.5 versions: totally blocking the display of PNG
  images.
- fix #470: login_form.pt did not display well (unusable) in old IE
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- splitting macro_lib makes customization easier
- Trees have now a 'portal_tree_stop_depth' which can be set from
  the zmi to restrict absolute depth
- Renamed the "Nuxeo logo" box into "CPS logo" which it really is.
- new CSS menuTabs class to create clean menu tabs like sections/workspaces
- Renamed and added some CSS properties so that they are more generic and can be
  used in other products such as CPSSubscriptions.
- Made comments mandatory in transition forms through JavaScript control.
- Factorization: made the transition_form from content_lib_transition_form.pt
  used by all CPSDefault transition forms.
- Renamed nuxeo_rss_css.css.dtml into rss.css.dtml because no-one will ever
  customize this CSS on a per web site basis and this CSS has nothing Nuxeo
  specific.
- Factorized RSS and ATOM HTML code into an xml_exports.pt ZPT macro file.
- Made renaming to follow the method name mixed-case naming scheme: 
  exportRSSContentBox.py -> exportRssContentBox.py
  exportATOMContentBox.py -> exportAtomContentBox.py
  

*******************************************
** CPSDefault V3.30.2 [R1 build 2004/12/21-09:16 by ben]

Requires:
~~~~~~~~~
- CPSCore > 3.19.0
  api change Languages -> getProxyLanguages
- CPSSchemas > 0.36.2
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- jmo fix #441: msie.css is loaded on each URL
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- 

*******************************************
** CPSDefault V3.30.1 [R1 build 2004/12/14-10:00 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- Added word cut prevention and meaningless words removal for URL generation.
Bug fixes:
~~~~~~~~~~
- basebox_folder_header macro crashed for non proxy folder
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.30.0 [R1 build 2004/12/13-08:59 by madarche]

Requires:
~~~~~~~~~
- CPSCore > 3.18.0
- CPSDocument > 0.29.0
- CPSSchemas > 0.33.0
- CPSInstaller > 0.14.0
- if you want to have an i18n menu you need to replace the basebox_menu
  with an treebox_menu
New features:
~~~~~~~~~~~~~
- enable i18n of folder/document using the translate action
  see doc/i18n-changes-from-CPSDefault-3_29_0.txt for more information
- add malagasy language
Bug fixes:
~~~~~~~~~~
- The navigation tree now is displayed as well at the root of the portal.
- Trying to add a box container failed in non-quiet mode if there was already
  one.
- CSS remove more IE peekaboo bugs
- Better wording for role acquisition blocking, do not use "Click here" wording.
- Setting the needed(!) missing 'Use external editor' for both sections and
  workspaces, as well as missing WebDAV permissions for sections.
- Fix getBaseUrl with VirtualHostBase and non root installed CPS
- Improved "basebox_edit_form.pt" accessibility.
- Workflow status for existing old (version <= 3.2.1) workspaces and sections
  are automatically upgraded by the installer (bug #426).
- getDateStr.py. Catch the DateTimeError exception to avoid crash
- Made computeId.py not cut words in the ids it generates.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- merging ben-i18n-branch
- basebox_menu is deprecated replace existing basebox_menu with treebox_menu
  which is i18n
- Normalized CSS according to CPS coding guides.
- cpsudpate mask event notification for portal_subscriptions during install
  this speed up things on update and prevent raising CMF bug 
  http://zope.org/Collectors/CMF/198
- Normalized the CSS files.
- Added comments in header_lib.pt about how CPS uses CSS.

*******************************************
** CPSDefault V3.29.0 [R1 build 2004/11/05-15:16 by ben]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- ContentBox items can now be sorted by Effective Date in addition to the
  already existing possibility of being sorted by Modification Date.
- box export export guard configuration
- The status information below each document (the byline macro) now displays
  only the Last modification date for anonymous users.
Bug fixes:
~~~~~~~~~~
- Wording "Current status" instead of "Actual status".
- Added back missing translation for box styles and better wording for box
  styles.
- Improved accessibility in "folder_localrole_form.pt".
- Reworked a bit the "manage_addCPSSiteForm.dtml": required fields now include
  manager email, which is now not pre-filled anymore because it was a source of
  errors, required fields are more clearly displayed, HTML is better and
  variable names are more meaningful.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.28.1 [R1 build 2004/10/26-14:21 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- Added an MSIE behavior so that MSIE can handle CPS PNG images with alpha
  channel cf. http://www.scss.com.au/family/andrew/webdesign/pngbehavior/
- Using an image for the RSS feed link + improved explanation text.
Bug fixes:
~~~~~~~~~~
- Added back the translation for "welcome_body", it was lost because
  "welcome_body" had not been added into custom.pot.
- It is now possible to switch language from the register form without
  CPS displaying an error.
- Better wording for the login, register and join forms, button labels should be
  verbs like "Login", "Search", etc.
- Better HTML for the "reconfig_form" page.
- Use a "byline" class instead of hardcoded style in content_lib.pt
- Brought back consistency into the English translation: actions in the history
  naming scheme + systematic use of the word "revision" instead of "version".
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- Added more possibilities to getDateStr.py to display dates according to the
  ISO 8601 format and W3C recommendations.
- Added hidden/visible class for div tags. You can use them for JavaScript 
  display toggle.

*******************************************
** CPSDefault V3.28.0 [R1 build 2004/10/18-15:03 by ben]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- Local role blocking is now possible again, and works.
Bug fixes:
~~~~~~~~~~
- Optimized CPSDefault.utils.getHtmlBody by using CMFDefault.utils.bodyfinder.
- Wording in the content_status_history translations.
- Fixed local group roles deletion, and unblocking.
- Added dimensions for the images of the conformance box.
- fix #403: Box RSS export broken: documents values should be escaped
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.27.0 [R1 build 2004/10/13-08:13 by ben]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- Links are not underlined when hovered, this provides more feedback for the user.
- The "footer" base box is now replaced by a "contact" text box that makes it
  now possible to change its content through the box management user interface.
- Upon client requests, a checkout version of a document can only be checked-in
  or abandoned by its owner, that is not the owner of the original document but
  the owner of the checked-out version ie the user who did the checkout. This is
  now more intuitive.
Bug fixes:
~~~~~~~~~~
- getHtmlBody is working again.
- Load method in ImageBox was using CLIENT_HOME instead of INSTANCE_HOME
- Replaced "&#153;" by "&trade;" because it was doing validation errors
  (justified or not).
- fix: 'Favorites' folder is not i18n
  fixed by setting a title with the current user locale at creation time
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- getCPSLocalRoles use portal type prefix to filter relevant local roles
- Removed useless tags in box_lib.pt.
- boxes creation/edition no more box type id displayed (nuxeo-default, nuxeo-xxx)
- Replaced <table> garbage by <dl><dt></dt><dd></dd></dl> markup in
  box_create_form.pt.
- More semantical HTML markup for content_status_history.pt, the information is
  now structured into <table> markup. <table> markup is good to structure matrix
  like information.

*******************************************
** CPSDefault V3.26.3 [R1 build 2004/09/28-09:27 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- Added back some missing translations in fr.po.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.26.2 [R1 build 2004/09/27-15:52 by regebro]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- filterContents now avoids non-CMF contents, no more cryptic "getIcon" errors.
- Fixed the error background overlapping the next HTML element (as seen on a
  erroneous widget on the left of another one using Firefox) (fixes #399).
- Changed the French translation of 'action_addmeeting'.
- Accessibility information updated in the English version.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.26.1 [R1 build 2004/09/17-07:37 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- Put back the "basebox_welcome" macro for backward compatibility, but mark it
  as deprecated.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.26.0 [R1 build 2004/09/16-14:57 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- Usability improvement: display the link "Create box" for every slot and the
  created box is created into the corresponding slot.
- Added an i18n option for text box.
- Usability improvement: the "welcome" box is now an i18n text box.
Bug fixes:
~~~~~~~~~~
- Better position for the link "Create box".
- Removing an unneeded "text-align: left;" style for <p> which was causing
  display alignment problems with Epoz on lousy Microsoft product MSIE
  (of course).
- Fix: no menu box when there is only sections (or only workspaces)
  that are viewable
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.25.1 [R1 build 2004/09/15-15:13 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- Usability improvements in manage_addCPSSiteForm:
  - Alphabetical reordering of available languages
  - Preselected more often used languages (en, fr)
Bug fixes:
~~~~~~~~~~
- fix: fr.po bad translation for accessibility_contact
- fixing load function in ImageBox, path given was correct using Zope 2.7
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- Overall accessibility improvements of workflow and transition HTML forms by:
    - using <input id="xxx"><label for="xxx"> markup
    - using <dl><dt></dt><dd></dd></dl> markup
    - using CSS more extensively for styling
    - making sure that elements inside <form> elements are enclosed in <p>
      elements as required by XHTML 1.0 Strict (to be ready for switching to
      XHTML 1.0 Strict ASAP)

*******************************************
** CPSDefault V3.25.0 [R1 build 2004/09/10-09:56 by ben]

Requires:
~~~~~~~~~
- Since the "content_icon" property has been changed for every document types to
  now use a PNG image, the cpsupdate external method MUST be run after you have
  installed this new version of this product.
  Be aware that if you have also customized some CPS ZPTs you should change
  occurrences of ".gif" by ".png".
New features:
~~~~~~~~~~~~~
- New CPS logo.
Bug fixes:
~~~~~~~~~~
- Don't start the menu list if no section/workspace tab to generate.
- Removed the upper margin from l10n box introduced by the (appropriate!) p
  element.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- installer: auto install CPSNavigation product if present
- Structured header actions/accessibility anchors into a list.
- do not setup relative_path and relative_path_depth indexes, 
  this is done by the cpsnavigation installer
- Overall accessibility improvements by :
    - using <input id="xxx"><label for="xxx"> markup in many forms
    - replacing <table> garbage by <dl><dt></dt><dd></dd></dl> markup
    - removing many useless <table> garbage
    - adding labels for language chooser and the search box
- In content_lib.pt, removed a now unused (it seems) filter form
  <tal:block tal:condition="filter"> in the batch indicator.
- Menu tabs have been completely refactored, starring semantics, code clear as
  a crystal, just two hacks, and half less CSS code. Enjoy!
- remove conditional IE 6 html to set a html 4 doctype, now IE handle xhtml 1.0
  and mozilla render in Standards compliance mode
- More versatile setFocus JavaScript function.
- Better default values for manage_addCPSSiteForm.dtml.
- Using PNG files instead of GIF files.
- CSS layout: Giving more space for the searchBox.

*******************************************
** CPSDefault V3.24.4 [R1 build 2004/09/03-13:31 by ben]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- fix: print rendering is ugly, font is too big
- fix #392: CSS with MSIE 6 broken
- Correctly close tags in tree box site map.
- Removed title and description output in the embedded HTML preview since the
  previews already contain all this information.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- The web site icon is renamed into site_icon.png so because it makes site
  customization more natural.
- Getting rid of some more GIF files (all non-animated GIFs can safely be
  converted to PNG - PNG can be used everywhere as long it doesn't use alpha
  transparency, because of stupid MSIE).
- Added translations for conformance statement box banners
- Added the "lang" and "xml:lang" attribute to the "html" element of the main
  template so that the locale is advertised to the user agents: this improves
  accessibility and improves ranking in search engines.
- Made manage_addCPSSiteForm.dtml use <label> elements for locale selection so
  that this form is more usable (the user can select both the checkbox and the
  locale name -- the "click-able" area is thus wider).
- Nice error message when you don't insert a valid login on the mail password
  form.
- folder_contents/folder_localroles_form/folder_factories: better css 
  integration
- nuxeo_css1: no more hardcoded Time police for q and blocquote tag
- Remove the old mail_notification reference within the cps installer which
  was inherited from the old CPSMailingLists

*******************************************
** CPSDefault V3.24.3 [R1 build 2004/08/23-05:49 by fermigier]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- Added a "Conformance statement" box with W3C banners and links to the W3C
  validators.
- Added some JavaScript for the image selection widget of the image box so that
  the user can use it instinctively.
- New funnier "Nuxeo-head" site icon (it appears in navigator tabs and URL bar).
Bug fixes:
~~~~~~~~~~
- Make Title sticky in the advanced search form
- In logged_in don't access member.login_time directly, use getProperty.
- Use more semantical HTML markup
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.24.2 [R1 build 2004/08/12-14:10 by regebro]

Requires:
~~~~~~~~~
- WARNING: if you still use CPSMailingLists product (MailingListDocument,
  NewsLetterDocument ..) you have to call the CPSMailingLists installer 
  from your custom install script
New features:
~~~~~~~~~~~~~
- 
Bug fixes:
~~~~~~~~~~
- Setup the new address and telephone number of Nuxeo
- fix: cpsupdate always reindex the catalog
- getCPSLocalRoles.py now returns the same roles for Calendars
  as for Workspaces, instead of all roles.
- In the installer, removing the skins created by the CMFCalendar 
  installer was done before the CMFCalendar install was run,
  so the skins was not removed. This caused bug #1444.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- cpsupdate: no more CPSMailingLists installed by default
  try to install CPSNewsLetters
- new index relative_path_depth, new catalog metadata relative_path
  you need to update CPSCore > 3.16.3
- new javascript functionis getSelectedRadio*

*******************************************
** CPSDefault V3.24.1 [R1 build 2004/07/30-10:00 by ben]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- Removed local role blocking from UI until it works correctly in the core.
Bug fixes:
~~~~~~~~~~
- Fixed P1 #299: cannot submit a subdocument into an already-submitted
  folderish doc.
- translate role:{Anonymous,Authenticated}
- Do not display l10n box anymore when you have only one language installed
- Let l10n box untranslated
- Use cps_display_as_document_in_listing for folder listing
- quick fix within the getContentInfo
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- removed forum-specific CSS rules
- get the creation form from the ti (create action). 
  If not fallback on cpsoducment_create_form. (content_create.py)
- send a fake workflow_delete event simulating the workflow for CPSSubscriptions
- removed 'visibility: visible;' property for input tags in nuxeo_css2.css 
 (does not seem to be useful anyway)

*******************************************
** CPSDefault V3.24.0 [R1 build 2004/07/07-17:05 by madarche]

Requires:
~~~~~~~~~
- CPSCore > 3.15.3
New features:
~~~~~~~~~~~~~
- Archived revisions can be deleted from the history.
Bug fixes:
~~~~~~~~~~
- For interoperability sake, added back the content-type in the HTML page source
  even if the content-type is already specified in the HTTP response.
- Updated id in login_form that was causing invalid pages.

New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.23.0 [R1 build 2004/07/07-12:29 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- added a new type of box: InternalLinksBox
- treebox_sitemap_adv display url of workspaces
Bug fixes:
~~~~~~~~~~
- getHtmlBody now strips unwanted attributes
- nuxeo_css2: useless 'position:relative' removed from div.row ; it was making
  the javascript calendar display badly using IE 5.5.
- fix: sometime we have exotic windows char like &8217; for rquot 
  and &0000128; for euro
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- header_lib force charset html header to iso-8859-15
- Using mixed case method name verifyVHM -> verifyVhm

*******************************************
** CPSDefault V3.22.1 [R1 build 2004/06/28-13:16 by anahide]

Requires:
~~~~~~~~~
- main_template.pt has a new "isHomeless" computation, change your customized
  main_template if needed
- requires CPSCore > 3.14.1 to get correct archive display in history
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- Renamed the preview template -> preview_html so that it doesn't collide with
  the preview attribute of the image widget.
- When in preview mode, modified the breadcrumb so that it says that we are in
  preview mode
- Correctly compute isHomeless for use in box_lib.pt
- view permission on a box is set to anonymous users when creating the box:
  users having permissions in subfolders do not have the right to view boxes
  set in the .cps_boxes file higher in the hierarchy, whereas they have the right
  to view boxes set in the .cps_boxes_root file (discussed with Florent).
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- add bresilian language
- compile regexps inside a utils module

*******************************************
** CPSDefault V3.22.0 [R1 build 2004/06/16-11:48 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- Adding a new template for a preview properly embedded in the site template
Bug fixes:
~~~~~~~~~~
-
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.21.1 [R1 build 2004/06/14-09:13 by ben]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- fix: TreeBox raise KeyError if root path is invalid
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- new container_path FieldIndex
- new localUsersWithRoles KeywordIndex

*******************************************
** CPSDefault V3.21.0 [R1 build 2004/06/10-15:46 by anahide]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- In ContentBox, the link to more results now points to the advanced search form
  prefilled with the box parameters.
Bug fixes:
~~~~~~~~~~
- Clean 'status_history' from portal_actions. See changes in getCPSDocuments and
  the closing commentary of bug #295 for what changed.
- In ContentBox, fix named arguments usage when constructing the query to more
  results.
- Removed "width: 100%" in DIVs. Some browsers don't digest them and they are
  useless.
- Smoothly avoid box buttons for users without home folder (closes #290).
- Catching the 'NotFound' exception when the image is not found in getImgTag.py
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- Replaced TABLEs and DIVs by DL/DT/DD in advanced search form; code much
  cleaner and base tests for prefilling chosen values when redisplaying this
  form (TODO).
- In ContentBox, use argument marshalling for allowing comparing dates.

*******************************************
** CPSDefault V3.20.7 [R1 build 2004/06/04-14:18 by hcauwelier]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- add a description condition to show description in simple format in
  content_lib.
- cpsmailboxer installation before cpsdocument installation
- Merge a new revision with an already published revision when publishing
  directly (as 'accept' does for submitted documents).
- Updating the installation documentation
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- add a method to verify the presence of a Virtual Host Monster in the Zope 
  instance.
- CPSSubscriptions will be installed if here.

*******************************************
** CPSDefault V3.20.6 [R1 build 2004/05/27-15:32 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- Now search on status is available for anyone who is not anonymous.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.20.5 [R1 build 2004/05/27-10:55 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- Added the needed permissions for the draft state so that the Owner of a
  document can modifies it when working on a draft version of his document.
- Made the permissions on draft related transitions consistent: a
  WorkspaceMember can perform all those transitions.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.20.4 [R1 build 2004/05/26-15:07 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- Modified the byline macro so that it is well translated as it was and always
  should be
- Corrected the default sort key so that sort on workflow state is not broken
  for states not known by CPS
- More robust id initialization in computeId, even German characters and
  ligatures.
- Corrected a copy/paste bug in cpsinstall/setupTreesTool.
  flagRebuildTreeCache was called twice with the same parameter.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.20.3 [R1 build 2004/05/24-10:18 by ben]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- fix: Searching for '?' or '*' raise ParseError
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.20.2 [R1 build 2004/05/21-17:04 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- HTML validation correction in login_form + making this template more easily
  customizable when it comes to setting the message for
  "I have forgotten my password", thus making it possible to set the message of
  his choice independently of the fact that the password can be mailed back or not.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.20.1 [R1 build 2004/05/21-11:14 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- Adding a getActionIndex method
Bug fixes:
~~~~~~~~~~
-
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.20.0 [R1 build 2004/05/20-15:13 by ben]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
-
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- catalog: new index and metadata: 'time' this is time of last workflow
  transition, now you can search on publication date for example

*******************************************
** CPSDefault V3.19.2 [R1 build 2004/05/18-16:01 by ben]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- Batching: limit number of batched items to 100 by default
Bug fixes:
~~~~~~~~~~
- fix: search sort by status broken
- fix: search sort by author
- fix: keyerror on search with folder_prefix
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.19.1 [R1 build 2004/05/17-16:12 by ben]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- Applied useful patch from J.-M. Orliaguet that does submit & publish in a
  single action if the submitter has enough rights
- i18n for the form still has to be updated
- Enhancing accessibility of the 'folder_factories' form
- date displayed in folder view/content are last modified date
  instead of useless last workflow trasaction
Bug fixes:
~~~~~~~~~~
- Hardening on content_lib: we don't want to getContentInfo on the Portal
- fix: sorting on search
- fix: start/end search for CMFCalendar not impl
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- new catalog metadata, convert start, end into DateIndex
- the time return by getContentInfo is the last modified time instead of the
  last workflow transition

*******************************************
** CPSDefault V3.19.0 [R1 build 2004/05/14-16:13 by ben]

Requires:
~~~~~~~~~
- latest CPSInstaller and CPSCore
- if you use search.py in custom script you have to
  handle brains instead of proxy now see below.
New features:
~~~~~~~~~~~~~
- refactoring search
Bug fixes:
~~~~~~~~~~
- Fix behaviour of folder_localrole_form under IE when typing Enter for
  submitting (Partly closes #209). Thanks to Vincent Fiack.
- After registering, change GET authentication link to POST button, thus
  avoiding having the password appearing in the URL.
- Make Localizer changes absolute to portal (Thanks J.-M. Orliaguet).
- Add a button to change language if you don't have Javascript (usability bug).
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- new indexes using ZCTextIndex and TopicIndex
- search.py return brains instead of proxies
  if you use search.py directly use getObject to access the proxy
- getContentInfo handle catalog brain

*******************************************
** CPSDefault V3.18.7 [R1 build 2004/05/12-15:52 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- Setting default value for getInfoFor
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.18.6 [R1 build 2004/05/11-17:24 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- Adding a the proxy 'type' and 'proxy' information in getContentInfo() for the
  different states of a document
Bug fixes:
~~~~~~~~~~
-
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- Really return box guard at t time (no useless computation).
- Allow using setGuardProperties outside of a request context; plus cleaning
  code. (Coin !)

*******************************************
** CPSDefault V3.18.5 [R1 build 2004/05/10-12:33 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- Using getWorkflowStateNames.py in generic_lib.pt to make the latter more
  easily customizable when new workflow states become available.
Bug fixes:
~~~~~~~~~~
- HTML rewriting: more semantic
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.18.4 [R1 build 2004/05/06-13:55 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- Adding the missing permission "Change subobjects order" to Manager and
  SectionManager for the section folder and using this permission to the
  folder_contents ZPT.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.18.3 [R1 build 2004/05/05-15:10 by madarche]

Requires:
~~~~~~~~~
- getFolderInfo updated check your custom version
New features:
~~~~~~~~~~~~~
- Searching is now done by default in the entire site
Bug fixes:
~~~~~~~~~~
- computeId now handles gracefully reserved ids (no more error message)
- #312: refactor export tab to use smart writing. Now detects quotes used and
  put stronger quotes.
- Using a more meaningful title for image in image boxes
- fix: SectionManager or SectionReview not able to view and manage expired
  document
- fix: draft and locked status not l10n in history
- fix: install script cps_update_i18n broken
- Now using a relative URL instead of an absolute URL to access the document
  revisions
- status history view is now possible even on archived revisions
- Hardening sorting on status in the folder contents view so that it can work
  for any workflow.
- fix #346: No longer possible to submit folderish documents
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- optimizing 'search here', make it much faster than 'search entire site'
- Some JavaScript functions renamed as they are now used for things other than
  just tooltips
  toggleFormTooltip -> toggleElementVisibility
  showFormTooltip   -> showElement
- using the new CPS Registration Tool.
- javascript files are now dtml file and handle cache and content type
  properly

*******************************************
** CPSDefault V3.18.1 [R1 build 2004/04/22-15:46 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- Using the new getLanguageRevisions() method on the StateChangeInfo workflow
  objects
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.18.0 [R1 build 2004/04/21-16:34 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- Adding the 'language_revs' variable in the workflows and using it to display
  information in the status_history
Bug fixes:
~~~~~~~~~~
- #333: folder_localrole_form is accessible without authentication. "Change
  permissions" permission is now required, as for the action.
- Protect the underneath search script the same way.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.17.1 [R1 build 2004/04/16-13:56 by madarche]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- Need for better sort : Sort on author is now done on the creator of the
  document + all sorts are now not considering anymore the fact that the objects
  might be "folderish".
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.17.0 [R1 build 2004/04/09-13:33 by ben]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- Local roles blocking when the userfolder supports it (currently
  basic UserFolderWithGroups only). The UI only deals with simple
  on/off blocking of acquisition for now (using role '-' for
  group:role:Anonymous).
- Adding a search by subject in the advanced search form
- new german locale !
Bug fixes:
~~~~~~~~~~
- Use a custom guard for boxes. DCWorkflow's one couldn't be used. This guard is
  still compatible, it just has a specific name space.
- ballon displaying portal type and id on document icon is not l10n
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- css improve default fonts family for Mac and *nix

*******************************************
** CPSDefault V3.16.1 [R1 build 2004/03/25-16:53 by ben]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- more xhmltize
- wrong rss validator link
- printing form missing text input
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.16.0 [R1 build 2004/03/25-11:37 by ben]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- new doctype XHMTL 1.0 Transitional !
  all zpt were refactored to produce XHTML
  note that IE6 (and only IE6) use HTML 4.01 Transitional doctype
  because it is not able to compute correct cols width in xhtml
- RSS 1.0 feed for ContentBox
  any content box can be view as a RSS feed
- disable empty search
- 'View archived revisions' permissions now added by the installer
  set by default for SectionManager, WorkspaceManager, WorkspaceMember
Bug fixes:
~~~~~~~~~~
- treebox_center missing line break between folder name
  if sub folder contains hidden folder
- truncate URL display in result search
- tooltip helpers are truncated on resolution lower than 1024x768
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- you can check any pages ttw using tidy
  if you use the benchmarktimer and you have installed mx.tidy
  from the egenix-mx-experimental-0.8.0 package
- javascript file: functions.js is always loaded

*******************************************
** CPSDefault V3.15.1 [R1 build 2004/03/09-10:38 by ben]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- folder_localrole_form: ldap empty entry raise KeyError on search result
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- po update

*******************************************
** CPSDefault V3.15.0 [R1 build 2004/03/08-14:14 by ben]

Requires:
~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- Creation form display Created by line
- JA: fix something somewhere in folder_local_roles
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.14.0 [R1 build 2004/02/25-08:48 by ben]

Requires:
~~~~~~~~~
- content_lib has been udpated take care
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
-
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- comment are not anymore displayed by default, view method of object
  as to take care of displaying comments see cpsdocument_view for example

*******************************************
** CPSDefault V3.13.0 [R1 build 2004/02/20-16:59 by ben]

Requires:
~~~~~~~~~
- note that if you have other roots than 'workspaces' and 'sections'
  your installer should do a reindexObject() on each roots
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
-
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- change default box skin setting for main boxes
- cpsinstall factoring object and security reindexing
- info detail hides object id (mouse over the object's icon to
  view it)

*******************************************
** CPSDefault V3.12.0 [R1 build 2004/02/19-15:57 by ben]

Requires:
~~~~~~~~~
- warning main_template, header_lib, content_lib and generic_lib are updated
  think to propagate changes if you have custmomized versions
New features:
~~~~~~~~~~~~~
- Enable accesskey for Accessibility
- Enable print action
- Contact action to send an email to the portal admin
- Enable portal joining available from the reconfig form.
Bug fixes:
~~~~~~~~~~
- history log for creation/commit/abandon version are not i18n
- #301: Root account badly created on adding a CPSDefault site.
- #313: CPS Site object is not a CPSDefault/Portal object but a
  CMFDefault/Portal one.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- Notifications send to eventservice when content is pasted.
- new nuxeo_print_css.css used in print mode
- Use new CPSCore URL accessor for archived revisions.
- Special breadcrumb display for archived revisions.

*******************************************
** CPSDefault V3.11.0 [R1 build 2004/02/11-14:29 by ben]

Requires:
~~~~~~~~~
- CPSCore with CPSMembershipTool >= 1.37 is required, to fix member area
  creation.
New features:
~~~~~~~~~~~~~
- ContentBox search result (using more link) is now displayed in the current
  folder and use the same title as the box
Bug fixes:
~~~~~~~~~~
- no more Collector/Forum/Chat :(
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- enable to do sub search (search within the results) and to customize
  search result title

*******************************************
** CPSDefault V3.10.0 [R1 build 2004/02/08-07:54 by fermigier]

New features:
~~~~~~~~~~~~~
- Workspace and Section nice metadata page using CPSDocument
  they are searchable, and displayed with different icons (green/blue)
- A folder (workspace or section) can be hidden in navigation
  using Edit page
- Seach can be done from the current location + improve search nav

Bug fixes:
~~~~~~~~~~
- remove duplicate slash in the daily view URL of a calendar box.
- fix, clean and improve readability of some portal actions.
- fixing treebox and treebox_center to display sub sub folder list
  (should fix the default navigation view)
- Creating a portal now uses the new standard acl_users API userFolderAddUser()
  instead of the old _adduser().
- Fix unit tests under Zope 2.7

New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- Folders (ie Workspace and Section) are CPSDocument
- i18n updater only reload cpsdefault po into Localize.default without recreat
  the mcat
- hidden_folder are filtered from TreeBox and basebox_menu


*******************************************
** CPSDefault V3.9.0 [R1 build 2004/02/05-15:19 by ben]

ZODB Requires:
~~~~~~~~~~~~~~
- ep: if you have a custom stylesheet_properties.props you must include:
 legendFontSize:string=80%
- Permissions on the repository have been tightened. To upgrade an
  existing site:
  - update CPSCore
  - update your workflows for sections and workspaces
  - in portal_workflows click on 'update security settings'
  - in portal_repository's security, check that for all permissions
    corresponding to special roles like 'permission:foo', the permission
    is not acquired and only given to Manager and foo.
  - reindex the tree caches in portal_trees.
New features:
~~~~~~~~~~~~~
- Id renaming form now displays a help message.
- Adding a property 'enable_portal_joining' to the portal that controls both the
  display of the 'join' action and execution of the register.py.
Bug fixes:
~~~~~~~~~~
- check/convert ID when "renaming" an object through folder contents
- changed button_rename translation as it was misleading
- #151: anonymous user can access box_manage_form
- dw: fixing TreeBox if root is a rurl deeper than 1 level?
- box site_map_adv display the folder displaying the map in the map
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- ep: adding legendFontSize in stylesheet_properties.props
- Content publish form for when your workflow need it.
- enable onclick javascript on actionbox link
- Fully uses CPSDirectory instead of NuxMetaDirectories. CPSDefault do not
  require the latter any longer although other products might still do.
- The workspace/section folder workflows now manage their View permission.
- Fixed an incompatibility with range in python 2.3.3 in getBatchList.py.

*******************************************
** CPSDefault V3.8.4 [R1 build 2004/01/21-10:39 by ben]

ZODB Requires:
~~~~~~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- prebuilt config for listing pending documents in a ContentBox.
- Italian translation.
Bug fixes:
~~~~~~~~~~
- remove duplicate slash in the daily view URL of a calendar box.
- fix, clean and improve readability of some portal actions.
- fixing treebox and treebox_center to display sub sub folder list
  (should fix the default navigation view)
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- "My preferences" now points to the CPSDirectory template.
- Allowed types for creation are now asked to current portal type and then
  filtered out by the current workflow. This should combine the best of both
  methods.
- Installer now has a method to remove skins.

*******************************************
** CPSDefault V3.8.3 [R1 build 2004-01/06-15:13 by anguenot]

ZODB Requires:
~~~~~~~~~~~~~~
-

New features:
~~~~~~~~~~~~~
-

Bug fixes:
~~~~~~~~~~
-

New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- Using now the mergedLocalRolesWithPath within the getCPSLocalRoles.py
*******************************************
** CPSDefault V3.8.2 [R1 build 2003/12/23-10:02 by ben]

ZODB Requires:
~~~~~~~~~~~~~~
- if you use Custom CSS configuration by folder, move the previous
  folder_edit_form page into your project
New features:
~~~~~~~~~~~~~
- Advanced Search has Document type criteria (portal type)
Bug fixes:
~~~~~~~~~~
- P2 #252: Folder edit remove "Custom CSS configuration"
- Send lost passwd
- Larger text area for textbox edit form
- no more img src starting with /cps/portal_repository/
- Adding some generic tooltip.js JavaScript to display tooltips.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- info_summary used in 'zoom the first document' option of content box
  display photo or image or preview attributes instead of preview icon
- getAdditionalContentInfo should take proxy as parameter
- getSearchablePortalTypes return typeinformation object instead of dictionnary(id/title)
- fr locale use Ml instead of Courriel

*******************************************
** CPSDefault V3.8.1 [R1 build 2003/12/10-21:45 by fermigier]

ZODB Requires:
~~~~~~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- Installer was broken in previous release.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.8.0 [R1 build 2003/12/10-18:20 by ben]

ZODB Requires:
~~~~~~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- new box treebox_sitemap_adv displaying main visible folders and a search
  folder form to search on title and description of folder (even if not visible)
Bug fixes:
~~~~~~~~~~
-
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- css class row/label/field used to display form is now more compact
- refactoring getTree in TreeBox should be more reliable
- install CPSDirectory  if presents

*******************************************
** CPSDefault V3.7.0 [R1 build 2003/12/01-15:12 by ben]

ZODB Requires:
~~~~~~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- #233 New content page display sorted contents by folderish then alpha
- Draft (or Brouillon) actions are renamed into Version
Bug fixes:
~~~~~~~~~~
-
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- Folder (section/workspace) creation without title will return a creation page
  instead of creating a folder with an autocomputed id like my_section92123

*******************************************
** CPSDefault V3.6.1 [R1 build 2003/11/27-22:39 by fermigier]

New features:
~~~~~~~~~~~~~
- Removed Dummy documents from default installer.
- Changed "S'authentifier" to "M'authenfier", etc. ("me-centric" interface).

Bug fixes:
~~~~~~~~~~
- remove debug document info in full_metadata

New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- New Installer base class, used by the CPSDocument installer for now.
- english time is displayed using AM/PM

*******************************************
** CPSDefault V3.6.0 [R1 build 2003/11/19-17:45 by ben]

ZODB Requires:
~~~~~~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- adding contentbox_simple to display compact list of objects
Bug fixes:
~~~~~~~~~~
- cpinstall broken
- Folderish documents appear in a workspace/section where they are not if
  this one have the same entire id that the beginning of their container's id
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-

*******************************************
** CPSDefault V3.5.1 [R1 build 2003/11/17-14:49 by ben]

ZODB Requires:
~~~~~~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- P1 #240: Inconsistent portal_tree cache when editing sections/workspaces
- P3 #235: "my preferences" action added again and again when you update
- TreeBox depth was incorrect (w.r.t specified value) when hierarchy's root hidden
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- adding encode/decode javascript string method

*******************************************
** CPSDefault V3.5.0 [R1 build 2003-10/31-17:34 by anguenot]

ZODB Requires:
~~~~~~~~~~~~~~
- require CPSCore > 3.1.1 to access archived version
New features:
~~~~~~~~~~~~~
- adding shortcut keys
  Alt-H -> home
  Alt-E -> folder_contents
  Alt-N -> folder_factories ie content creation
  Alt-U -> up folder
  more information in doc/shortcuts.txt
- It is now possible to revert to an archived version from the history view.
  (Works correctly only for single-language documents.)
- Possiblity to specifu custom css for a container that is taking into
  consideration within the children folders as well through acquisition.
Bug fixes:
~~~~~~~~~~
- made some tree box options accessible only to site managers
- changed appearance of some tree box hierarchy items
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- Installer set up services if they are.
- Updates et workaround to enable writing of unit tests.i
- Favorites are now offered only if CPSDocument/Link is installed
- document commenting disaplay call moved from CPSDocument to CPSDefault
- Export of boxes definition to Python dictionnary from the ZMI.
*******************************************
** CPSDefault V3.4.4 [R1 build 2003-10/24-14:51 by anguenot]

ZODB Requires:
~~~~~~~~~~~~~~
-

New features:
~~~~~~~~~~~~~
-

Bug fixes:
~~~~~~~~~~
- A locked document is now completely unmodifiable.
- If a locked document is deleted, it's now possible to commit/abandon the draft.

New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- getLockedObjectFromDraft.py makes it possible to add a UI to go from
  the draft to the locked or vice versa.
*******************************************
** CPSDefault V3.4.3 [R1 build 2003-10/18-17:21 by anguenot]

ZODB Requires:
~~~~~~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- Launching the CPSDocument installer cause the favorites facility uses the
  URL type from CPSDocument.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-
*******************************************
** CPSDefault V3.4.2 [R1 build 2003-10/18-16:37 by anguenot]

ZODB Requires:
~~~~~~~~~~~~~~
-

New features:
~~~~~~~~~~~~~
- P1 #187: Create documents without creating empty object.
- new restricted navigation box
- event calendar extended and moved in its own box category
- new box for displaying Macromedia Flash movies
- P2 #181: Favorites implemented (inspired by CMF's favorites)

Bug fixes:
~~~~~~~~~~
- Fix several translation mistakes / inconsistencies
- Dummy document type : title wasn't a compulsory filed. Thus no compulsory
  mark on the title field anymore.
- Display of buttons move up/down/top/down appeared for members even if they
  weren't allowed to use those features.
- No default value for the flash box edit form. We got a bug while validating
  the box properties.

New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- Cosmetic cleanup
- Added copyright + license information
- filter form and variable to display only a portal_type or a list of
  portal_types. deactivated by default.
- displayed detail_tab columns can be chosen in a list.
- display params can be easily customized.
- detail_tab ordered by clicking on headers.
- Only Managers, Manager, WorkspaceManager and SectionManager can edit the
  properties of the Workspaces or Sections.
*******************************************
** CPSDefault V3.4.1 [R1 build 2003-10/08-15:00 by ben]

ZODB Requires:
~~~~~~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- P3 #186: missing location in the search result
- fixing calendar bug 'last_day' is not defined
- cosmit i18n
- contentbox configuration display untranslated portal type list
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- new css class 'url' setting urlFontColor to display url
*******************************************
** CPSDefault V3.4.0 [R1 build 2003-10/03-15:02 by ben]

ZODB Requires:
~~~~~~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- In workspaces, you can create a draft from a document you
  work on, in which case the original is locked until you commit
  or abandon your draft. Only you can change the draft.
- the menu bar uses real, rounded tabs.
- P2 #192: need effective and expiration date
- P2 #184: sample Sitemap using TreeBox
           to make a sitemap create a section with a folder skin that use a
           Treebox Sitemap you may have to rebuild your portal_tree if some
           item/description keyerror occurs
- An event calendar is now available. Document types which should be considered
  events to be displayed have to be selected in the Configure tab of the
  portal_calendar tool. They must also implement the event interface, consisting
  of the start() and end() methods returning DateTime objects for the beginning
  and end dates of the event. Instantiating a calendar box is achieved by creating
  a new base box of type nuxeo-calendar.
- Dummy doc have start/end date to test cmfcalendar box
Bug fixes:
~~~~~~~~~~
- P2 #191: treebox disappear from box_manage_form if display_only_in_subfolder
           is check
- P2 #189: buggy "Display only sub folder" attribute in the navigation box
- P2 #174: author link should point to a mailto:link
- P3 #164: consistency in the URL : trailing slash or not ?
- P3 #88: bad display of revision for compact/detail mode
- P3 #91: copy/paste doesn't work inside sections
- P1 #115: copy/paste, copy only proxies instead of proxies and documents
- no more error about a title when using the icon view.
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- adding cps_javascript skin
*******************************************
** CPSDefault V3.3.2 [R1 build 2003-09/15-15:39 by ben]

ZODB Requires:
~~~~~~~~~~~~~~
- Require CMF 1.4.1 to fix the big security hole in portal_action
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- P2 #93: login_form doesn't redirect to came_from url
- P2 #136: the basebox_display_settings box is broken
- P2 #134: closed boxes are not listed by box_manage_form.pt
- P2 #138: just created box appear unconfigured in the left slot
- P2 #116: boxes error on min max close actions for anonymous
- P2 #139: ask for a title in box_create_form.pt
- P2 #113: join fill form without email result of invalid error message
- P2 #118: contentbox configuration missing options
- P2 #146: title used to create a box is not propagated to the box's title
- P2 #161: untranslated portal status message : Item(s) Renamed.
- P3 #133: make folder_factories more user-friendly by asking the title instead
           of the id
- P3 #84: make a clear distinction between workspace and section
- P3 #128: email validity is not checked on user registration
- P3 #148: add a button "change & edit" in box_edit_form.pt
- adding missing img required.gif
- fix a typo in installer

New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-
*******************************************
** CPSDefault V3.3.1 [R1 build 2003-09/09-07:35 by ben]

ZODB Requires:
~~~~~~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- P1 #126: local role managment for user broken
- P3 #101: folder_contents psm not i18n for deletion
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- sf code cleaning
*******************************************
** CPSDefault V3.3.0 [R1 build 2003-09/05-16:23 by ben]

ZODB Requires:
~~~~~~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- content box have a zoom attribute to zoom the first document
	in the result list using info_summary macro
Bug fixes:
~~~~~~~~~~
- P3 #120: Search result legend "gave 0 or 1 result" not i18n
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- cosmit on css adding error fixing group class
*******************************************
** CPSDefault V3.2.1 [R1 build 2003-09/02-09:02 by anguenot]

ZODB Requires:
~~~~~~~~~~~~~~
- CMF 1.4 is now approved and required
New features:
~~~~~~~~~~~~~
- Dummy document can contain an image
- P2 #63: boxes: implement image box
Bug fixes:
~~~~~~~~~~
- P2 #71: basebox_menu should display authorized workspaces
- P1 #117: IE6 CSS column and boxes overlap
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- CSS cosmetic
- Dummy document implement get_size and additional content info method
- folder view/contents able to display document image if
	getAdditionalContentInfo return a preview img path
- Adding the method getTreeObject returning the tree object itself given a root
in the TreeBox type.
- pyChecker correction
- IE6 able to change font size
*******************************************
** CPSDefault V3.2.0 [R1 build 2003-08/22-15:15 by ben]

ZODB Requires:
~~~~~~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
- boxes: able to manage folder_view slot (Default skin for folders)
- support NS4.77 adding nuxeo_ns4 skin that replacing div boxes with table boxes
Bug fixes:
~~~~~~~~~~
- P2 #97: html img tag without size make IE navigation ugly
- P3 #92: delete action should be confirm
- P3 #87: CPS return html page without any DOCTYPE
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
-
*******************************************
** CPSDefault V3.1.0 [R1 build 2003-08/20-15:14 by ben]

ZODB Requires:
~~~~~~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- P2 #90: copy/paste right problems on button display
New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- replace plone css with nuxeo_css1 and nuxeo_css2
*******************************************
** CPSDefault V3.0.1 [R1 build 2003-08/18-08:45 by anguenot]

ZODB Requires:
~~~~~~~~~~~~~~
-
New features:
~~~~~~~~~~~~~
-
Bug fixes:
~~~~~~~~~~
- P1 #69: filter list of roles in folder_localrole_form
- P1 #76: boxes action is available only for manager
- P1 #80: remove test users user1 and user2 from cpsinstall
- P2 #82: Permission check for the up/down facilities buggy
- P2 #65: improve batch mode
- P2 #83: action manage boxes is not displayed in the root of cps
- P2 #64: implement copy/paste workflow
- P3 #77: folder_localrole_form display group id instead of group name
- P3 #79: folder_localrole_form empty email search fails
- P3 #81: login page should set focus on login input
- P3 #72: Content Box have invalid box type nuxeo-center
- P3 #77: i18n for roles within folder_localrole_form
- P3 #85: reconfig_portal should be implemented for CPS

New internal features:
~~~~~~~~~~~~~~~~~~~~~~
- code review indentation and spacing
- cps action isportalbox become cps_is_portalbox property
- cps action issearchabledocument become cps_is_searchable property
- cps action isproxytype become cps_proxy_type property
- adding new box skins: frame and no frame skin without title
- fix CSS for IE, truncated boxes and overlapped boxes border
- moving html header from generic_lib to header_lib
*******************************************
** CPSDefault V3.0.0 [R7 build 2003-08/07-16:00 by ben]

- first RC

*******************************************
** CPSDefault V3.0.0 [R1 build 2003-04/28-16:21 by ben]

- first dev package
