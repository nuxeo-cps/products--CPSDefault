<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns="http://www.w3.org/1999/xhtml"
      metal:use-macro="here/main_template/macros/master">
<body>

<metal:block fill-slot="head_slot">
 <tal:block define="dummy python:request.set('breadcrumb_set',
    [{
      'id': 'reconfig_form',
      'url': '%sreconfig_form' % base_url,
      'title': cpsmcat('heading_reconfig_portal'),
    },
   ]);" />
</metal:block>

<metal:header fill-slot="header">
  <h1 i18n:translate="heading_reconfig_portal">
    Configure Portal
  </h1>
  <div class="description" i18n:translate="description_reconfig_form">
    This form is used to set the portal configuration options.
  </div>
</metal:header>

<metal:main fill-slot="main">

  <form action="" method="post"
        tal:attributes="action string:${base_url}reconfig"
        tal:define="pprops here/portal_properties">
    <table border="0" cellspacing="2" cellpadding="2"
      summary="portal properties form">
      <tr>
        <th class="even" align="right">
          <tal:block i18n:translate="label_admin_name">
            Administrator Name
          </tal:block>
        </th>
        <td>
          <input name="email_from_name" value=""
                 tal:attributes="value pprops/email_from_name" />
        </td>
      </tr>
      <tr>
        <th class="even" align="right">
          <tal:block i18n:translate="label_admin_email">
            Administrator E-mail
          </tal:block>
        </th>
        <td>
          <input name="email_from_address" value=""
                 tal:attributes="value pprops/email_from_address" />
        </td>
      </tr>
      <tr>
        <th class="even" align="right">
          <tal:block i18n:translate="label_smtp_server">
            SMTP Server
          </tal:block>
        </th>
        <td>
          <input name="smtp_server" value=""
                 tal:attributes="value pprops/smtp_server" />
        </td>
      </tr>
      <tr>
        <th class="even" align="right">
          <tal:block i18n:translate="label_portal_title">
            Portal title
          </tal:block>
        </th>
        <td>
          <input name="title" value=""
                 tal:attributes="value pprops/title" />
        </td>
      </tr>
      <tr>
        <th class="even" align="right">
          <tal:block i18n:translate="label_portal_description">
            Portal description
          </tal:block>
        </th>
        <td>
          <textarea cols="40" rows="6" name="description"
                    style="width: 100%" tal:content="pprops/description">
          </textarea>
        </td>
      </tr>
      <tr>
        <th class="even" align="right">
          <tal:block i18n:translate="label_portal_enable_join">
            Enable portal joining
          </tal:block>
        </th>
        <td>
          <input type="checkbox" name="enable_portal_joining:boolean"
                 tal:attributes="checked pprops/enable_portal_joining" />
        </td>
      </tr>
    </table>
    <p>
    <input type="submit" value="button_change"
           i18n:attributes="value" />
    <input type="button" onClick="history.back()" value="button_cancel"
           i18n:attributes="value" />
        </p>
  </form>
</metal:main>
</body>
</html>
