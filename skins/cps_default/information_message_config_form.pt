<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns="http://www.w3.org/1999/xhtml"
      metal:use-macro="here/main_template/macros/master">
<body>

<metal:block fill-slot="head_slot">
 <tal:block define="dummy python:request.set('breadcrumb_set',
    [{
      'id': 'config_form',
      'url': '%sconfig_form' % base_url,
      'title': cpsmcat('heading_reconfig_portal'),
    },
   ]);" />
</metal:block>

<metal:header fill-slot="header"
              tal:define="mtool here/portal_membership;
                          checkPerm nocall:mtool/checkPermission;">
  <h1 i18n:translate="heading_config_information_message">Configure information message</h1>
  <tal:block condition="python:not checkPerm('Manage portal', here)">
    <tal:block define="dummy request/RESPONSE/unauthorized" />
  </tal:block>
</metal:header>

<metal:main fill-slot="main">

  <form method="post" action="information_message_config_form">

  <tal:block define="ltool here/portal_layouts;
                     infotool here/portal_information_message;
                     config python:{};
                     res python:ltool.renderLayout(layout_id='information_message',
                                                   schema_id='information_message',
                                                   context=here, ob=config);
                    rendered python:res[0];
                    dummy python:infotool.config(config);
                    "
            content="structure rendered" />

    <p>
      <button type="submit" i18n:translate="button_ok">OK</button>
    </p>
  </form>

</metal:main>

</body>
</html>
