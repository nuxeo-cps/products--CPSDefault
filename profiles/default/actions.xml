<?xml version="1.0"?>
<object name="portal_actions" meta_type="CMF Actions Tool">
 <action-provider name="portal_membership">
  <action title="Login" action_id="login" category="user"
     condition_expr="not: member"
     url_expr="python:&quot;%s/login_form?%s&quot; % (portal_url, modules[&quot;urllib&quot;].urlencode({&quot;came_from&quot;: request.URL}))"
     visible="True">
   <permission>View</permission>
  </action>
  <action title="Log out" action_id="logout" category="user"
     condition_expr="member" url_expr="string:${portal_url}/logout"
     visible="True">
   <permission>View</permission>
  </action>
  <action title="My stuff" action_id="mystuff" category="user"
     condition_expr="python: member and portal.portal_membership.getHomeFolder()"
     url_expr="string:${portal/portal_membership/getHomeUrl}/folder_contents"
     visible="True">
   <permission>View</permission>
  </action>
  <action title="action_my_preferences" action_id="preferences"
     category="user"
     condition_expr="python:member and member.has_role(&quot;Member&quot;)"
     url_expr="string:${portal_url}/cpsdirectory_entry_view?dirname=members&amp;id=${member}"
     visible="True">
   <permission>View</permission>
  </action>
 </action-provider>
 <action-provider name="portal_actions">
  <action title="action_accessibility" action_id="accessibility"
     category="global_header" condition_expr=""
     url_expr="string:${portal_url}/accessibility" visible="True">
   <permission>View</permission>
  </action>
  <action title="action_print" action_id="print" category="global_header"
     condition_expr=""
     url_expr="string:javascript:if%20(window.print)%20window.print();"
     visible="True">
   <permission>View</permission>
  </action>
  <action title="action_advanced_search" action_id="advanced_search"
     category="global_header" condition_expr=""
     url_expr="string:./advanced_search_form" visible="True">
   <permission>View</permission>
  </action>
  <action title="action_contact" action_id="contact" category="global_header"
     condition_expr=""
     url_expr="string:mailto:${portal/portal_properties/email_from_address}?subject=Info"
     visible="True">
   <permission>View</permission>
  </action>
  <action title="action_manage_vocabularies" action_id="manage_vocabularies"
     category="global" condition_expr=""
     url_expr="string:${portal_url}/vocabularies_manage_form" visible="True">
   <permission>Modify portal content</permission>
  </action>
  <action title="action_manage_languages" action_id="manage_languages"
     category="global" condition_expr=""
     url_expr="string:${portal_url}/language_manage_form" visible="True">
   <permission>Modify portal content</permission>
  </action>
  <action title="action_add_favorites" action_id="add_favorites"
     category="user"
     condition_expr="python: member and portal.portal_membership.getHomeFolder()"
     url_expr="string:${object/absolute_url}/addtoFavorites" visible="True">
   <permission>View</permission>
  </action>
  <action title="action_view_favorites" action_id="view_favorites"
     category="user"
     condition_expr="python: hasattr(portal.portal_membership.getHomeFolder(),&quot;Favorites&quot;)"
     url_expr="string:${portal/portal_membership/getHomeUrl}/Favorites"
     visible="True">
   <permission>View</permission>
  </action>
  <action title="Directories" action_id="directories" category="global"
     condition_expr="python:not portal.portal_membership.isAnonymousUser()"
     url_expr="string:${portal_url}/cpsdirectory_view" visible="True">
   <permission>View</permission>
  </action>
  <action title="My calendar" action_id="my_calendar" category="user"
     condition_expr="portal/portal_cpscalendar/getHomeCalendarObject"
     url_expr="string:${portal/portal_cpscalendar/getHomeCalendarUrl}"
     visible="True">
   <permission>View</permission>
  </action>
  <action title="Create my home calendar" action_id="create_my_calendar"
     category="user"
     condition_expr="python:portal.portal_membership.getHomeFolder() and                    not portal.portal_cpscalendar.getHomeCalendarObject() and                    getattr(portal.portal_cpscalendar,                    'member_can_create_home_calendar', 1)"
     url_expr="string:${portal_url}/portal_cpscalendar/createMemberCalendar"
     visible="True">
   <permission>View</permission>
  </action>
  <action title="action_portlets" action_id="portlets" category="folder"
     condition_expr="member"
     url_expr="string:${folder_url}/portlet_manage_form" visible="True">
   <permission>Manage Portlets</permission>
  </action>
 </action-provider>
 <action-provider name="portal_registration">
  <action title="Join" action_id="join" category="user"
     condition_expr="python:portal.portal_properties.enable_portal_joining and not member"
     url_expr="string:${portal_url}/join_form" visible="True">
   <permission>Add portal member</permission>
  </action>
 </action-provider>
 <action-provider name="portal_types"/>
 <action-provider name="portal_discussion">
  <action title="action_activate_comments" action_id="activate_comments"
     category="object"
     condition_expr="python:getattr(object.getTypeInfo(),'cps_proxy_type','') in ('document', 'folderishdocument') and getattr(object.getContent(), 'allow_discussion', None) == 0"
     url_expr="string:${object/absolute_url}/set_comment_mode?mode=1"
     visible="True">
   <permission>Forum manage comments</permission>
  </action>
  <action title="action_deactivate_comments" action_id="deactivate_comments"
     category="object"
     condition_expr="python:getattr(object.getTypeInfo(),'cps_proxy_type','') in ('document', 'folderishdocument') and getattr(object.getContent(), 'allow_discussion', None) == 1"
     url_expr="string:${object/absolute_url}/set_comment_mode?mode=0"
     visible="True">
   <permission>Forum manage comments</permission>
  </action>
  <action title="action_manage_comments" action_id="manage_comments"
     category="object"
     condition_expr="python:getattr(object.getTypeInfo(),'cps_proxy_type','') in ('document', 'folderishdocument') and getattr(object.getContent(), 'allow_discussion', None) == 1"
     url_expr="string:${object/absolute_url}/manage_comments" visible="True">
   <permission>Forum manage comments</permission>
  </action>
  <action title="action_comment" action_id="comment" category="object"
     condition_expr="python:object.hasCommentAction()"
     url_expr="string:${object/absolute_url}/post_comment" visible="True">
   <permission>View</permission>
  </action>
 </action-provider>
 <action-provider name="portal_syndication"/>
 <action-provider name="portal_workflow"/>
 <action-provider name="portal_properties">
  <action title="Reconfigure Portal" action_id="configPortal"
     category="global" condition_expr=""
     url_expr="string:${portal_url}/reconfig_form" visible="True">
   <permission>Manage portal</permission>
  </action>
 </action-provider>
 <action-provider name="portal_subscriptions">
  <action title="action_folder_notifications" action_id="folder_notifications"
     category="folder"
     condition_expr="python:hasattr(object, 'portal_type') and object.portal_type in portal.portal_subscriptions.getContainerPortalTypes()"
     url_expr="string:${object_url}/folder_notifications_form" visible="True">
   <permission>Manage Subscriptions</permission>
  </action>
  <action title="action_my_subscriptions" action_id="my_subscriptions"
     category="user"
     condition_expr="python:not portal.portal_membership.isAnonymousUser()"
     url_expr="string:${portal_url}/manage_my_subscriptions_form"
     visible="True">
   <permission>View My Subscriptions</permission>
  </action>
  <action title="action_notify_content" action_id="notify_content"
     category="object" condition_expr="python:object.portal_type != 'Portal'"
     url_expr="string:${object_url}/content_notify_email_form" visible="True">
   <permission>Can Notify Content</permission>
  </action>
  <action title="action_folder_subscribe" action_id="folder_subscribe"
     category="folder"
     condition_expr="python:hasattr(object, 'portal_type') and             object.portal_type in portal.portal_subscriptions.getSubscribablePortalTypes() and             hasattr(object, portal.portal_subscriptions.getSubscriptionContainerId()) and             getattr(object, portal.portal_subscriptions.getSubscriptionContainerId()).isSubscriptionAllowed()"
     url_expr="string:${object_url}/folder_subscribe_form" visible="True">
   <permission>View</permission>
  </action>
 </action-provider>
 <action-provider name="portal_themes">
  <action title="_action_themes_reconfig_" action_id="configThemes"
     category="global"
     condition_expr="python: member and portal.portal_membership.checkPermission('Manage Themes', portal.portal_themes)"
     url_expr="string:${portal_url}/cpsskins_themes_reconfig_form"
     visible="True">
   <permission>View</permission>
  </action>
 </action-provider>
</object>
