<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="here/main_template/macros/master">
<body>

<div metal:fill-slot="main">

<div class="Desktop" tal:define="
    stree python: here.getSectionsTree();
    ">

<h3>Publish</h3>

<form action="publishContent">
  <table>
    <tr><th>Section</th><th>Action</th></tr>
    
    <span tal:repeat="section stree">
    <tr><td>
      <span tal:replace="structure python:'&nbsp;'*4*section['depth']">&nbsp;</span>
      <span tal:replace="section/id">Section</span>
    </td><td>
      <span tal:repeat="transition section/publishing_transitions">
        <input type="checkbox" name="." value="."
          tal:attributes="value section/rpath; name string:${transition};">
        <span tal:replace="transition" />
      </span>
    </span>
  
  </table>
  <p>
    <input class="mainbutton" type="submit" value="Go" />
    <input class="mainbutton" type="button" onClick="history.back()" value="Cancel" />
  </p>
</form>
  
</div><!-- class="Desktop"-->

</div><!-- metal:fill-slot="main" -->

</body>
</html>
