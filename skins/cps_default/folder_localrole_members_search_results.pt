<metal:block define-macro="search_results">
  <tal:block condition="not:found">
    <p i18n:translate="legend_local_roles_no_results_users">
      Sorry, no user matched your search
    </p>
  </tal:block>

  <tal:block condition="found">
    <table summary="result list" width="100%">
     <tr>
      <th width="16"><br /></th>
      <th i18n:translate="label_user">
          User
      </th>
      <th i18n:translate="label_user_id">
          User id (login)
      </th>
      <th i18n:translate="label_email">
          Email address
      </th>
     </tr>

     <tal:block repeat="member found">
     <tr tal:attributes="class python:test(repeat['member'].even(),'even','odd')">
       <tal:block define="id python:member[0];
                          entry python:member[1];
                          input_id python:id.replace('@', '_at_')">
         <td width="16">
           <input type="checkbox" name="member_ids:list" value=""
             class="noborder" tal:attributes="value string:user:${id};
                                              id input_id" />
         </td>
         <td>
           <label tal:content="python:(entry.get('givenName', '') + ' ' + entry.get('sn', '')).strip() or id"
                  tal:attributes="for input_id">Username 1</label>
         </td>
         <td>
           <label tal:content="id"
                  tal:attributes="for input_id">Id 1</label>
         </td>
         <td tal:condition="entry/email">
           <label tal:content="entry/email"
                  tal:attributes="for input_id">Email 1</label>
         </td>
       </tal:block>
     </tr>
     </tal:block>
    </table>
  </tal:block>
</metal:block>
